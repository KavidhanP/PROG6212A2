@using PROGA22025.Models
@model List<Claims>
@* 
Bootstrap 5 Components
Bootstrap Team. (2024).
Bootstrap 5 Documentation.
Bootstrap. https://getbootstrap.com/docs/5.0/customize/overview/
Accessed: October 22, 2025
*@
<h2>My Claims - @ViewBag.LecturerName</h2>

<table class="table">
    <thead>
        <tr>
            <th>Claim ID</th>
            <th>Hours</th>
            <th>Rate</th>
            <th>Total</th>
            <th>Submitted</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var claim in Model)
        {
            <tr>
                <td>@claim.ClaimId</td>
                <td>@claim.HoursWorked</td>
                <td>R@claim.HourlyRate</td>
                <td>R@claim.Total</td>
                <td>@claim.SubmittedDate.ToShortDateString()</td>
                <td>
                    <strong>@claim.Status</strong>

                    @* Progress Bar *@
                    <div class="progress" style="height: 20px;">
                        @{
                            var progress = 25;
                            if (claim.CoordinatorApproved == true) progress = 50;
                            if (claim.ManagerApproved == true) progress = 100;
                            if (claim.Status == "Rejected") progress = 100;
                        }
                        <div class="progress-bar @(claim.Status == "Approved" ? "bg-success" : claim.Status == "Rejected" ? "bg-danger" : "bg-warning")"
                             style="width: @progress%">
                            @progress%
                        </div>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>